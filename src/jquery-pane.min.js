function selectPaneContainer(e){var t=$("#"+e);if(t.hasClass("hasPane")){return t}return t.parents(".hasPane")}function selectPaneUsingContainerId(e){var t=$("#"+e);if(t.hasClass("hasPane")){return t}return t.children(".hasPane")}var paneLoadOption={PROMPT_ONLY_IF_MODIFIED:"PROMPT-ONLY-IF-MODIFIED",NO_PROMPT:"NO-PROMPT",PROMPT_ALWAYS:"PROMPT-ALWAYS"};(function(e,t){var n="hasPane";var r="data-pane-highlight-column-class-name";var i="data-pane-highlight-label-class-name";var s="pane-reload-warning-dialog";e.widget("dtg.pane",{options:{paneActionUrl:"",paneRefreshOnFirstAccess:true,paneLoadAlwaysPromptMessage:"You have chosen to refresh the data on this pane.<br /><br />Continue?",paneLoadPromptWhenModifiedMessage:"You have chosen to refresh the data on this pane. There are unsaved changes which will be lost if you continue.<br /><br />Continue?",paneLoadDialogTitle:"Reload Pane",paneAjaxLoadSettings:{},friendlyExceptionMessage:"This page is having trouble communicating to the web server while processing your request. "+"You may retrying the transaction, however, if it keeps having problems please call the help desk "+"and relay to them as much information as you have which led up to the error occurring. <br /><br />"+"We apologize for any inconvenience.",refreshParameterName:"refresh",enablePaneHeader:false,paneHeaderTitle:"",paneHeaderAlign:"center",enablePaneGroupBox:false,disable:false,readonly:false,disablerOptions:{disable:false,readonly:false,expression:"*:not(.disabler-ignore-readonly):not(label)"},modificationHighlighterOptions:{addlSelectableInputTypes:"",inputNotModifiedIfHasClass:"error",modifiedColumnClass:"ui-state-highlight",modifiedLabelClass:"ui-state-highlight"},highlightModifications:true,disabledClass:"ui-state-disabled",paneProgressIndicatorClass:"pane-progress-indicator",paneHeaderTitleBarClass:"pane-header-title-bar",paneGroupBoxContentClass:"pane-group-box-content",paneGroupBoxWrapperClass:"pane-group-box-wrapper"},enable:function(){this._setOption("disable",false)},disable:function(){this._setOption("disable",true)},_create:function(){this._initOptions();this._assertContainerHasId();this._assertUniqueId();if(!this.element.hasClass(n)){this.element.addClass(n)}this._doLoadPane(this.options.paneRefreshOnFirstAccess)},_initOptions:function(){this.options.paneRefreshOnFirstAccess=this._ensureBoolean(this.options.paneRefreshOnFirstAccess);this.options.enablePaneHeader=this._ensureBoolean(this.options.enablePaneHeader);this.options.enablePaneGroupBox=this._ensureBoolean(this.options.enablePaneGroupBox);this.options.disable=this._ensureBoolean(this.options.disable);this.options.readonly=this._ensureBoolean(this.options.readonly);this.options.highlightModifications=this._ensureBoolean(this.options.highlightModifications)},_ensureBoolean:function(e){var t=false;if(this._isNotNullAndNotUndefined(e)){var n=(new String(e)).toLowerCase();t=n==="true"}return t},_assertContainerHasId:function(){var e=this.element.attr("id");if(this._isNullOrUndefined(e)||e.length===0){throw"The container which this plugin is running against must contain an ID attribute."}},_assertUniqueId:function(){var t=e("#"+this.element.attr("id")).length===1;if(t>1){throw"The container ID must be unique within the DOM.  There are "+t+' elements which have the "'+this.element.attr("id")+'" ID.'}},_initPaneOptions:function(){this._setOption("enablePaneHeader",this.options.enablePaneHeader);this._setOption("paneHeaderTitle",this.options.paneHeaderTitle);this._setOption("paneHeaderAlign",this.options.paneHeaderAlign);this._setOption("enablePaneGroupBox",this.options.enablePaneGroupBox);this._setOption("disable",this.options.disable);if(this.options.readonly){this._setOption("readonly",this.options.readonly)}this._setOption("highlightModifications",this.options.highlightModifications)},_setOption:function(t,n){this.options[t]=n;this._initOptions();var r=this.element.attr("id");switch(t){case"enablePaneHeader":this._enablePaneHeader(this.options.enablePaneHeader);break;case"paneHeaderTitle":e("#"+r+" ."+this.options.paneHeaderTitleBarClass).text(n);break;case"paneHeaderAlign":var i=this.options.paneHeaderTitleBarClass+"-left";var s=this.options.paneHeaderTitleBarClass+"-right";var o=this.options.paneHeaderTitleBarClass+"-center";var u=this.options.paneHeaderTitleBarClass+"-"+n;e("#"+r+" ."+this.options.paneHeaderTitleBarClass).removeClass(i).removeClass(s).removeClass(o).addClass(u);break;case"enablePaneGroupBox":this._enablePaneGroupBox(this.options.enablePaneGroupBox);break;case"disable":this._doDisable(r,this.options.disable);break;case"readonly":this.readOnly(r,this.options.readonly);break;case"highlightModifications":this._turnOnOffHighlightModifications(this.options.highlightModifications);break;default:this._doDisable(r,this.options.disable);break}},_turnOnOffHighlightModifications:function(t){if(this._isNullOrUndefined(this.options.modificationHighlighterOptions)){return}if(t){var n=this._getAttribute(this.element,r);var s=this._getAttribute(this.element,i);if(this._isNotNullAndNotUndefined(n)){this.options.modificationHighlighterOptions.modifiedColumnClass=n;this.options.modificationHighlighterOptions.modifiedLabelClass=s;var o=this._createColumnTracker();o.modificationHighlighter("evaluate")}}else{var n=this.options.modificationHighlighterOptions.modifiedColumnClass;var s=this.options.modificationHighlighterOptions.modifiedLabelClass;var u=this.element.attr("id");if(this._isNotNullAndNotUndefined(n)&&e.trim(n).length>0){e("#"+u+" ."+n).removeClass(n);this._setAttribute(this.element,r,n);this.options.modificationHighlighterOptions.modifiedColumnClass=""}if(this._isNotNullAndNotUndefined(s)&&e.trim(s).length>0){e("#"+u+" ."+s).removeClass(s);this._setAttribute(this.element,i,s);this.options.modificationHighlighterOptions.modifiedLabelClass=""}this._createColumnTracker()}},_hasDisabler:function(t){var n=this._formatSelectorForContainerId(t);return e(n).hasClass("hasDisabler")},_createDisabler:function(t,n,r){var i=this._formatSelectorForContainerId(t);var s=this.options.disablerOptions;s.readonly=n;s.disable=r;return e(i).disabler(s)},_doDisable:function(t,n){var r=this._formatSelectorForContainerId(t);if(this._hasDisabler(t)){e(r).disabler("option","disable",n)}else{this._createDisabler(t,false,n)}this.options.disable=e(r).disabler("option","disable")},readOnly:function(t,n){var r=this._formatSelectorForContainerId(t);if(this._hasDisabler(t)){e(r).disabler("option","readonly",n)}else{this._createDisabler(t,n,false)}this.options.readonly=e(r).disabler("option","readonly")},_enablePaneHeader:function(t){var n=this.element.attr("id");var r="";if(t){var i=this.options.paneHeaderTitleBarClass+"-"+e.trim(this.options.paneHeaderAlign.toLowerCase());if(e("#"+this.element.attr("id")+" div."+this.options.paneHeaderTitleBarClass).length===0){r+='<div class="'+this.options.paneHeaderTitleBarClass+" "+i+'">';r+=this.options.paneHeaderTitle;r+="</div>\n";var s=e("#"+n+" ."+this.options.paneGroupBoxContentClass);if(s.length===0){s=e(e("#"+n)[0])}s.prepend(r)}}else{var o=e("#"+n+" div."+this.options.paneHeaderTitleBarClass);o.remove()}},_enablePaneGroupBox:function(t){var n=this.element.attr("id");if(t){var r="div."+this.options.paneGroupBoxContentClass+" #"+this.element.attr("id");if(e(r).length===0){e("#"+n).wrap('<div class="'+this.options.paneGroupBoxContentClass+'" />');e("#"+n).wrap('<div class="'+this.options.paneGroupBoxWrapperClass+'" />')}}else{if(e("div."+this.options.paneGroupBoxContentClass+" #"+n).length>0){e("#"+n).unwrap().unwrap()}}},destroy:function(){e.Widget.prototype.destroy.call(this)},load:function(t){var n=e.Event("beforePaneLoad");this._trigger("beforePaneLoad",n,{element:this.element});if(n.isDefaultPrevented()){return}var r=this._createPaneReloadWarningDialog();r.dialog("option","title",this.options.paneLoadDialogTitle);if(this._isNullOrUndefined(t)||t===paneLoadOption.PROMPT_ALWAYS){r.html(this.options.paneLoadAlwaysPromptMessage);r.dialog("open")}else if(t===paneLoadOption.NO_PROMPT){this._doLoadPane(true)}else if(t===paneLoadOption.PROMPT_ONLY_IF_MODIFIED){var i=this.element.attr("id");var s=this.getModifiedColumnsWithinContainer(i);if(s.length===0){this._doLoadPane(true)}else{r.html(this.options.paneLoadPromptWhenModifiedMessage);r.dialog("open")}}},_createPaneReloadWarningDialog:function(t){var n=this;var r=e(n._prepId(s)).dialog({autoOpen:false,closeOnEscape:true,draggable:true,modal:true,resizable:true,buttons:{OK:function(t){e(this).dialog("close");n._doLoadPane(true)},Cancel:function(t){e(this).dialog("close")}}});return r},_processPaneProgress:function(t){var n=this.element.attr("id");if(this.element.length===0||e.trim(this.element.html()).length===0){if(t){e("#"+n).addClass(this.options.paneProgressIndicatorClass);e("body").css("cursor","progress")}else{e("#"+n).removeClass(this.options.paneProgressIndicatorClass);e("body").css("cursor","auto")}}else{if(t){e("body").css("cursor","progress");e("#"+n).addClass(this.options.disabledClass)}else{e("body").css("cursor","auto");e("#"+n).removeClass(this.options.paneProgressIndicatorClass);e("#"+n).removeClass(this.options.disabledClass)}}},_doLoadPane:function(t){var n=this.element.attr("id");var r=this.options.enablePaneGroupBox;var i=this.options.paneActionUrl;if(this._isNullOrUndefined(i)||e.trim(i).length===0){this._doBeforeLoad();var s="You must supply a URL as an option to this PANE before the content is loaded";this._doSuccessfulLoad(r,s);return}if(i.indexOf("#")===0){this._doBeforeLoad();var s=e(i).html();this._doSuccessfulLoad(r,s);return}var o=this._appendRefreshParam(i,t);var u=this;var a=new Object;a["cache"]=false;a["async"]=true;a["beforeSend"]=function(e,t){u._doBeforeLoad();if(u._isNotNullAndNotUndefined(u.options.paneAjaxLoadSettings.beforeSend)){u.options.paneAjaxLoadSettings.beforeSend(e,t)}};a["error"]=function(t,i){u._processPaneProgress(false);u.options.enablePaneGroupBox=r;var s=e("#"+n);s.html(u.options.friendlyExceptionMessage);u._initPaneOptions();if(u._isNotNullAndNotUndefined(u.options.paneAjaxLoadSettings.error)){u.options.paneAjaxLoadSettings.error(t,i,error)}};a["url"]=o;a["success"]=function(e,t,n){u._doSuccessfulLoad(r,e);if(u._isNotNullAndNotUndefined(u.options.paneAjaxLoadSettings.success)){u.options.paneAjaxLoadSettings.success(e,t,n)}};for(var f in u.options.paneAjaxLoadSettings){if(f!=="beforeSend"&&f!=="error"&&f!=="success"){a[f]=params.ajaxSettings[f]}}e.ajax(a);var l=e.Event("afterPaneLoad");this._trigger("afterPaneLoad",l,{element:this.element})},_doBeforeLoad:function(){this._processPaneProgress(true);this._setOption("enablePaneGroupBox",false)},_doSuccessfulLoad:function(t,n){this.options.enablePaneGroupBox=t;var r=this.element.attr("id");var i=e("#"+r);i.html(n);this._initPaneOptions();this._afterPaneLoad(r);this._processPaneProgress(false)},_appendRefreshParam:function(e,t){var n=e.indexOf(this.options.refreshParameterName+"=");if(n<0){e=this._getUrlWithRefreshParamAtEnd(e,t)}else{e=this._getUrlWithRefreshParamReplaced(e,t,n)}return e},_getUrlWithRefreshParamAtEnd:function(e,t){if(e.indexOf("?")<0){e+="?"+this.options.refreshParameterName+"="+t}else{e+="&"+this.options.refreshParameterName+"="+t}return e},_getUrlWithRefreshParamReplaced:function(e,t,n){var r=this.options.refreshParameterName.length+1;var i=n+r;var s=null;var o=e.indexOf("&",i);if(o<0){s=e.substring(i)}else{s=e.substring(i,o)}var u=this.options.refreshParameterName+"="+s;return e.replace(u,this.options.refreshParameterName+"="+t)},_createColumnTracker:function(){var t=e("#"+this.element.attr("id"));return t.modificationHighlighter(this.options.modificationHighlighterOptions)},getModifiedColumnsWithinContainer:function(e){var t=this._createColumnTracker();return t.modificationHighlighter("getModifiedColumns",e)},getAllColumnsWithSuppliedClass:function(e,t){var n=this._createColumnTracker();return n.modificationHighlighter("getAllColumnsWithSuppliedClass",e,t)},getStoredInputValue:function(e,t){var n=this._createColumnTracker();return n.modificationHighlighter("getStoredInputValue",e,t)},getStoredInputColumns:function(e){var t=this._createColumnTracker();return t.modificationHighlighter("getStoredInputColumns",e)},storeOriginalValues:function(e){var t=this._createColumnTracker();t.modificationHighlighter("storeOriginalValues",e)},resetModifiedColumnsInContainer:function(e){var t=this._createColumnTracker();t.modificationHighlighter("reset",e)},call:function(t){this._assertCallParamsSupplied(t);var n=this;var r=this._formatSelectorForContainerId(t.containerId);var i=new Object;i["cache"]=false;i["async"]=true;i["beforeSend"]=function(i,s){e("body").css("cursor","progress");e(r).addClass(n.options.disabledClass);if(n._isNotNullAndNotUndefined(t.ajaxSettings.beforeSend)){t.ajaxSettings.beforeSend(i,s)}};i["error"]=function(i,s,o){e("body").css("cursor","auto");e(r).removeClass(n.options.disabledClass);e(r).html(n.options.friendlyExceptionMessage);if(n._isNotNullAndNotUndefined(t.ajaxSettings.error)){t.ajaxSettings.error(i,s,o)}};i["success"]=function(i,s,o){var u=n.getModifiedColumnsWithinContainer(t.containerId);if(n._isNotNullAndNotUndefined(t.ajaxSettings.success)){t.ajaxSettings.success(i,s,o)}e("body").css("cursor","auto");e(r).removeClass(n.options.disabledClass);n._afterPaneLoad(t.containerId);n._evaluateModifiedStateAfterPost(t.containerId,t.keepModifiedIfExistInDom,u);if(n._isNotNullAndNotUndefined(t.afterCall)){t.afterCall(i,s,o)}};for(var s in t.ajaxSettings){if(s!=="beforeSend"&&s!=="error"&&s!=="success"){i[s]=t.ajaxSettings[s]}}if(this._isNullOrUndefined(i["type"])){i["type"]="POST"}e.ajax(i)},_assertCallParamsSupplied:function(t){if(this._isNullOrUndefined(t)){this._throwMissingParamsException()}if(this._isNullOrUndefined(t.ajaxSettings)){this._throwMissingParamsException()}if(this._isNullOrUndefined(t.containerId)||e.trim(t.containerId).length===0){throw"The params.containerId is required in order to issue a call."}if(this._isNullOrUndefined(t.ajaxSettings.url)||e.trim(t.ajaxSettings.url).length===0){throw"The params.ajaxSettings.url is required in order to issue a call."}},_throwMissingParamsException:function(){throw"Please supply the essential parameters as an object literal to issue a post. Valid parameters are: \n\n"+"params.containerId - the ID associated to the container that contains the page data to post. (Required)\n"+"params.keepModifiedIfExistInDom - supply the DOM element to issue a jQuery search that indicates the need to keep "+"the visual display for modified columns. This is usually necessary if the post resulted in a response displaying "+'user errors.  An example value would be "div.error-message". This example would result in a jQuery selector like '+'this: $("#" + containerId + " div.error-message") where containerId is the value supplied in the containerId '+"parameter to this method.  Do not supply to always reset the modified status. (Optional)\n"+"params.afterCall - a function to call after the call has completed successfully.  (Optional)\n"+"params.ajaxSettings.url - the URL to post to (Required)\n"+"params.ajaxSettings.data - an object representing the parameters to post to the url. (Optional)\n"+"params.ajaxSettings.success - a function to call upon successful completion of the AJAX call.  (Optional)\n"+"params.ajaxSettings.error - a function to call if the AJAX call fails.  (Optional)\n"},_afterPaneLoad:function(t){this.storeOriginalValues(t);var n=e.Event("afterPaneLoad");this._trigger("afterPaneLoad",n,{element:this.element,containerId:t})},_formatSelectorForContainerId:function(e){var t=this.element.attr("id");if(t===e){e=null}var n="#"+this._escapeValue(e)+" ";if(this._isNullOrUndefined(e)){n=""}if(n===""){n="#"+this._escapeValue(t)}else{n="#"+this._escapeValue(t)+" "+n}return n+" "},_evaluateModifiedStateAfterPost:function(t,n,r){if(this._isNullOrUndefined(n)||e.trim(n).length===0){return}var i=e("#"+t+" "+n);if(i.length===0){return}var s=e.trim(i.text());if(s.length===0){return}var o=this._createColumnTracker();o.modificationHighlighter("setOriginalValues",t,r)},_prepId:function(e){if(this._isNullOrUndefined(e)){return""}if(e.indexOf("#")<0){e="#"+e}return e},_isNullOrUndefined:function(e){return e===null||e===t},_isNotNullAndNotUndefined:function(e){return e!==t&&e!==null},_escapeValue:function(e){if(this._isNullOrUndefined(e)){return e}e=e.replace(/\+/g,"\\+");e=e.replace(/\\/g,"\\");e=e.replace(/\//g,"\\/");e=e.replace(/!/g,"\\!");e=e.replace(/"/g,'\\"');e=e.replace(/#/g,"\\#");e=e.replace(/\$/g,"\\$");e=e.replace(/%/g,"\\%");e=e.replace(/&/g,"\\&");e=e.replace(/'/g,"\\'");e=e.replace(/\(/g,"\\(");e=e.replace(/\)/g,"\\)");e=e.replace(/\*/g,"\\*");e=e.replace(/,/g,"\\,");e=e.replace(/\./g,"\\.");e=e.replace(/:/g,"\\:");e=e.replace(/;/g,"\\;");e=e.replace(/\?/g,"\\?");e=e.replace(/@/g,"\\@");e=e.replace(/\[/g,"\\[");e=e.replace(/\]/g,"\\]");e=e.replace(/\^/g,"\\^");e=e.replace(/`/g,"\\`");e=e.replace(/\{/g,"\\{");e=e.replace(/\}/g,"\\}");e=e.replace(/\|/g,"\\|");e=e.replace(/\~/g,"\\~");return e},isAnyPaneModified:function(){var e=this.getAllModifiedPaneColumns();return e.length>0},getAllModifiedPaneColumns:function(){var t=this;var r=[];e("."+n).each(function(n){var i=e(this);var s=i.pane("getModifiedColumnsWithinContainer");if(s.length===0){return true}var o=i.pane("option","paneHeaderTitle");if(t._isNullOrUndefined(o)||e.trim(o).length===0){o="[no title]"}var u={id:i.attr("id"),title:o,columns:s};r.push(u)});return r},_hasAttribute:function(e,t){var n=e.attr(t);return typeof n!=="undefined"&&n!==false},_hasNoAttribute:function(e,t){return!this._hasAttribute(e,t)},_setAttribute:function(e,t,n){e.attr(t,n)},_removeAttribute:function(e,t){e.removeAttr(t)},_getAttribute:function(e,t){return e.attr(t)}});e.extend(e.dtg.pane,{version:"1.0.5"})})(jQuery)